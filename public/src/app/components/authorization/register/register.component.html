<form id="register-form" class="form-login-register"
      ngNativeValidate  (submit)="this.submit($event)"
      #registerForm=ngForm (ngSubmit)="onSubmit()" enctype="multipart/form-data">
  <img id="avatar" [src]="this.imgSrc" class="rounded-circle border-3">
  <h1 class="h3 mb-3 font-weight-normal">Chat</h1>
  <div class="form-group">
    <div class="input-group">
      <div class="input-group-prepend">
        <div class="input-group-text">
          <i class="fa fa-user"></i>
        </div>
      </div>
      <input type="text" id="username" name="username" class="form-control" placeholder="Login"
             pattern="[A-Za-z0-9]{1,}" [(ngModel)]="form.username" required autofocus>
    </div>
  </div>
  <div class="form-group">
    <div class="input-group">
      <div class="input-group-prepend">
        <div class="input-group-text">
          <i class="fa fa-unlock"></i>
        </div>
      </div>
      <input type="password" id="password" name="password" class="form-control" placeholder="Hasło"
             pattern="[A-Za-z0-9]{1,}" [(ngModel)]="form.password" required>
    </div>
  </div>
  <div class="form-group">
    <div class="input-group">
      <div class="input-group-prepend">
        <div class="input-group-text">
          <i class="fa fa-unlock"></i>
        </div>
      </div>
      <input type="password" id="password2" name="password2" class="form-control" placeholder="Powtórz hasło"
             pattern="[A-Za-z0-9]{1,}" [(ngModel)]="form.password_confirmation" required>
    </div>
  </div>
  <div class="form-group">
    <div class="input-group">
      <div class="input-group-prepend">
        <div class="input-group-text">
          <i class="fa fa-envelope"></i>
        </div>
      </div>
      <input type="email" id="email" name="email" class="form-control" placeholder="E-mail"
             [(ngModel)]="form.e_mail" required>
    </div>
  </div>
  <div class="form-group">
    <div class="input-group">
      <div class="input-group-prepend">
        <div class="input-group-text">
          <i class="fa fa-user"></i>
        </div>
      </div>
      <input type="name" id="name" name="name" class="form-control" placeholder="Imię"
             pattern="[A-Za-z]{1,}" [(ngModel)]="form.name" required>
    </div>
  </div>
  <div class="form-group">
    <div class="input-group">
      <div class="input-group-prepend">
        <div class="input-group-text">
          <i class="fa fa-user"></i>
        </div>
      </div>
      <input type="surname" id="surname" name="surname" class="form-control" placeholder="Nazwisko"
             pattern="[A-Za-z]{1,}" [(ngModel)]="form.surname" required>
    </div>
  </div>
  <div class="form-group">
    <label for="avatar-file">Avatar</label>
    <input type="file" name="avatar-file" id="avatar-file"  accept="image/x-png,image/gif,image/jpeg"
           (change)="this.uploadFile($event.target.files)" >
    <small id="avatar-hint" class="form-text text-muted">Preferowany rozmiar to 100x100</small><br />
  </div>
  <button class="btn btn-lg btn-primary btn-block" type="submit" name="register"
    >Rejestracja</button>
</form>

<ngx-smart-modal customClass="modal-content" #registerErrorModal identifier="registerErrorModal" [closable]="false">
    <div class="modal-header">
        <h5 class="modal-title">Błąd</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="registerErrorModal.close()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body" *ngIf="registerErrorModal.hasData()">
        <p>{{ registerErrorModal.getData() }}</p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="registerErrorModal.close()">Ok</button>
    </div>
</ngx-smart-modal>
